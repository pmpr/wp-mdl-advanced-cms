(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=jQuery;var n=e.n(t);n()(document).ready((function(){let e=n()("body");e.on("submit","#commentform",(function(e){e.preventDefault();let t=n()(this),i="",m=t.closest(".comment-respond").find(".show-form"),o=PMPRUtil.serializeForm(t);if(n().each(o,(function(e,t){let n="email"===e?e:"empty";if(!function(e,t){let n=!0;switch(t){case"name":case"comment":n=e.length>3;break;case"email":n=/^([\w-.]+@([\w-]+\.)+[\w-]{2,4})?$/.test(e)&&""!==e}return n}(t,e))return i=PMPRUtil.getSettingByPath(`comment.${n}_message`),!1})),PMPRUtil.isEmpty(i)){let e=PMPRUtil.getSettingByPath("comment.ajax.submit_form");PMPRRequest.post(e,o).setElement(t.find("#submit")).setMessageSelector("#comment_form_message").setContainer(n()(".comment-respond")).resetRecaptcha().setIsDisable(!0).setSuccess((function(e){t.find("textarea, input:text").val(""),PMPRUtil.notify("#comment_form_message",e,0),PMPRUtil.isEmpty(m)||m.trigger("click"),n()("#cancel-comment-reply-link").trigger("click")})).send()}else PMPRUtil.notify("#comment_form_message",i,0)})),e.on("click","#cancel-comment-reply-link",(function(e){e.preventDefault();let t,i=n()(this);t=i.closest(".comments-container"),t.find("form #comment_parent").val(0),t.find(".comment-reply-link").show(),PMPRUtil.isEmpty(i.closest(".comment-content"))?(i.hide(),t.find(".comments-list #cancel-comment-reply-link").remove()):(i.remove(),t.find("#cancel-comment-reply-link").hide())})),e.on("click",".comment-reply-link",(function(e){e.preventDefault();let t,i,m,o,c,l,s=n()(this);c=s.closest(".comments-container"),l=c.find("#cancel-comment-reply-link"),i=c.find("form"),m=s.closest(".comments-list"),m.find(".comment-reply-link").hide(),o=i.find("#comment_parent"),PMPRUtil.isEmpty(o)||(l.show(),t=s.data("commentid"),o.val(t),s.parent().append(l.clone()));let r=c.find(".show-form.collapsed");PMPRUtil.isEmpty(r)||r.trigger("click"),PMPRUtil.isEmpty(l)||l.get(0).scrollIntoView()}))}))})();